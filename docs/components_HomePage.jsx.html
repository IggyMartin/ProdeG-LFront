<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>components/HomePage.jsx - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Componente_HomePage.html">Componente_HomePage</a><ul class='methods'><li data-type='method'><a href="module-Componente_HomePage.html#~addToTopFour">addToTopFour</a></li><li data-type='method'><a href="module-Componente_HomePage.html#~getPlayersInOrder">getPlayersInOrder</a></li><li data-type='method'><a href="module-Componente_HomePage.html#~getTopFourResults">getTopFourResults</a></li><li data-type='method'><a href="module-Componente_HomePage.html#~handleAdminTopFourSubmit">handleAdminTopFourSubmit</a></li><li data-type='method'><a href="module-Componente_HomePage.html#~handleTopFourSubmit">handleTopFourSubmit</a></li><li data-type='method'><a href="module-Componente_HomePage.html#~logoutAndRedirectToLogin">logoutAndRedirectToLogin</a></li><li data-type='method'><a href="module-Componente_HomePage.html#~useEffect">useEffect</a></li></ul></li><li><a href="module-Componente_Layout.html">Componente_Layout</a><ul class='methods'><li data-type='method'><a href="module-Componente_Layout.html#~getAllStages">getAllStages</a></li><li data-type='method'><a href="module-Componente_Layout.html#~handleFixture">handleFixture</a></li><li data-type='method'><a href="module-Componente_Layout.html#~handleLogout">handleLogout</a></li><li data-type='method'><a href="module-Componente_Layout.html#~handleNavigation">handleNavigation</a></li><li data-type='method'><a href="module-Componente_Layout.html#~useEffect">useEffect</a></li><li data-type='method'><a href="module-Componente_Layout.html#~useEffect2">useEffect2</a></li></ul></li><li><a href="module-Componente_Login.html">Componente_Login</a><ul class='methods'><li data-type='method'><a href="module-Componente_Login.html#~acceptedTerms">acceptedTerms</a></li><li data-type='method'><a href="module-Componente_Login.html#~loginAdmin">loginAdmin</a></li><li data-type='method'><a href="module-Componente_Login.html#~loginPlayer">loginPlayer</a></li></ul></li><li><a href="module-Componente_LoginLayout.html">Componente_LoginLayout</a></li><li><a href="module-Componente_NotFound.html">Componente_NotFound</a></li><li><a href="module-Componente_PositionsTable.html">Componente_PositionsTable</a><ul class='methods'><li data-type='method'><a href="module-Componente_PositionsTable.html#~getPlayersInOrder">getPlayersInOrder</a></li><li data-type='method'><a href="module-Componente_PositionsTable.html#~useEffect">useEffect</a></li></ul></li><li><a href="module-Componente_Rewards.html">Componente_Rewards</a></li><li><a href="module-Componente_Router.html">Componente_Router</a></li><li><a href="module-Componente_Rules.html">Componente_Rules</a></li><li><a href="module-Componente_RulesDefinition.html">Componente_RulesDefinition</a></li><li><a href="module-Componente_SelectCountry.html">Componente_SelectCountry</a><ul class='methods'><li data-type='method'><a href="module-Componente_SelectCountry.html#~handleAddToTopFour">handleAddToTopFour</a></li><li data-type='method'><a href="module-Componente_SelectCountry.html#~handleSelectedCountry">handleSelectedCountry</a></li><li data-type='method'><a href="module-Componente_SelectCountry.html#~useEffect">useEffect</a></li></ul></li><li><a href="module-Componente_SetAvatar.html">Componente_SetAvatar</a><ul class='methods'><li data-type='method'><a href="module-Componente_SetAvatar.html#~handleChosenAvatar">handleChosenAvatar</a></li><li data-type='method'><a href="module-Componente_SetAvatar.html#~handleContinue">handleContinue</a></li></ul></li><li><a href="module-Componente_Stage.html">Componente_Stage</a><ul class='methods'><li data-type='method'><a href="module-Componente_Stage.html#~checkAvailability">checkAvailability</a></li><li data-type='method'><a href="module-Componente_Stage.html#~enableView">enableView</a></li><li data-type='method'><a href="module-Componente_Stage.html#~getAllGames">getAllGames</a></li><li data-type='method'><a href="module-Componente_Stage.html#~getAllStages">getAllStages</a></li><li data-type='method'><a href="module-Componente_Stage.html#~getPlayerData">getPlayerData</a></li><li data-type='method'><a href="module-Componente_Stage.html#~handleMakePrediction">handleMakePrediction</a></li><li data-type='method'><a href="module-Componente_Stage.html#~handleMatchResult">handleMatchResult</a></li><li data-type='method'><a href="module-Componente_Stage.html#~saveMatchPrediction">saveMatchPrediction</a></li><li data-type='method'><a href="module-Componente_Stage.html#~saveMatchResult">saveMatchResult</a></li><li data-type='method'><a href="module-Componente_Stage.html#~saveMatchRivals">saveMatchRivals</a></li><li data-type='method'><a href="module-Componente_Stage.html#~selectRivals">selectRivals</a></li><li data-type='method'><a href="module-Componente_Stage.html#~useEffect">useEffect</a></li><li data-type='method'><a href="module-Componente_Stage.html#~useEffect2">useEffect2</a></li><li data-type='method'><a href="module-Componente_Stage.html#~useEffect3">useEffect3</a></li><li data-type='method'><a href="module-Componente_Stage.html#~useEffect4">useEffect4</a></li><li data-type='method'><a href="module-Componente_Stage.html#~useEffect5">useEffect5</a></li></ul></li><li><a href="module-Redux.html">Redux</a><ul class='methods'><li data-type='method'><a href="module-Redux.html#~saveUserData">saveUserData</a></li><li data-type='method'><a href="module-Redux.html#~setScheduleLogout">setScheduleLogout</a></li><li data-type='method'><a href="module-Redux.html#~setTimeoutId">setTimeoutId</a></li><li data-type='method'><a href="module-Redux.html#~updateUserLoginProcess">updateUserLoginProcess</a></li></ul></li><li><a href="module-Servicios_de_conexi%25C3%25B3n_al_backend.html">Servicios_de_conexi贸n_al_backend</a><ul class='methods'><li data-type='method'><a href="module-Servicios_de_conexi%2525C3%2525B3n_al_backend.html#~acceptTermsAndConditionsDB">acceptTermsAndConditionsDB</a></li><li data-type='method'><a href="module-Servicios_de_conexi%2525C3%2525B3n_al_backend.html#~createAdminTopFourPredictionDB">createAdminTopFourPredictionDB</a></li><li data-type='method'><a href="module-Servicios_de_conexi%2525C3%2525B3n_al_backend.html#~createGamePredictionDB">createGamePredictionDB</a></li><li data-type='method'><a href="module-Servicios_de_conexi%2525C3%2525B3n_al_backend.html#~createUserTopFourPredictionDB">createUserTopFourPredictionDB</a></li><li data-type='method'><a href="module-Servicios_de_conexi%2525C3%2525B3n_al_backend.html#~findAllByUserIdDB">findAllByUserIdDB</a></li><li data-type='method'><a href="module-Servicios_de_conexi%2525C3%2525B3n_al_backend.html#~getAllCountriesDB">getAllCountriesDB</a></li><li data-type='method'><a href="module-Servicios_de_conexi%2525C3%2525B3n_al_backend.html#~getAllGamesDB">getAllGamesDB</a></li><li data-type='method'><a href="module-Servicios_de_conexi%2525C3%2525B3n_al_backend.html#~getCookies">getCookies</a></li><li data-type='method'><a href="module-Servicios_de_conexi%2525C3%2525B3n_al_backend.html#~getHeaders">getHeaders</a></li><li data-type='method'><a href="module-Servicios_de_conexi%2525C3%2525B3n_al_backend.html#~getOrderedPlayersDB">getOrderedPlayersDB</a></li><li data-type='method'><a href="module-Servicios_de_conexi%2525C3%2525B3n_al_backend.html#~getStagesDB">getStagesDB</a></li><li data-type='method'><a href="module-Servicios_de_conexi%2525C3%2525B3n_al_backend.html#~getTopFourRanking">getTopFourRanking</a></li><li data-type='method'><a href="module-Servicios_de_conexi%2525C3%2525B3n_al_backend.html#~getUserByIdDB">getUserByIdDB</a></li><li data-type='method'><a href="module-Servicios_de_conexi%2525C3%2525B3n_al_backend.html#~getWithHeaders">getWithHeaders</a></li><li data-type='method'><a href="module-Servicios_de_conexi%2525C3%2525B3n_al_backend.html#~loginUserDB">loginUserDB</a></li><li data-type='method'><a href="module-Servicios_de_conexi%2525C3%2525B3n_al_backend.html#~makeRequest">makeRequest</a></li><li data-type='method'><a href="module-Servicios_de_conexi%2525C3%2525B3n_al_backend.html#~postWithHeaders">postWithHeaders</a></li><li data-type='method'><a href="module-Servicios_de_conexi%2525C3%2525B3n_al_backend.html#~putWithHeaders">putWithHeaders</a></li><li data-type='method'><a href="module-Servicios_de_conexi%2525C3%2525B3n_al_backend.html#~removeCookies">removeCookies</a></li><li data-type='method'><a href="module-Servicios_de_conexi%2525C3%2525B3n_al_backend.html#~setCookies">setCookies</a></li><li data-type='method'><a href="module-Servicios_de_conexi%2525C3%2525B3n_al_backend.html#~setUserAvatarDB">setUserAvatarDB</a></li><li data-type='method'><a href="module-Servicios_de_conexi%2525C3%2525B3n_al_backend.html#~updateGameDB">updateGameDB</a></li><li data-type='method'><a href="module-Servicios_de_conexi%2525C3%2525B3n_al_backend.html#~updateStageDB">updateStageDB</a></li></ul></li><li><a href="module-Utils.html">Utils</a><ul class='methods'><li data-type='method'><a href="module-Utils.html#~convertToDateObject">convertToDateObject</a></li><li data-type='method'><a href="module-Utils.html#~divideGames">divideGames</a></li><li data-type='method'><a href="module-Utils.html#~getCountriesAndSetSelectOptions">getCountriesAndSetSelectOptions</a></li><li data-type='method'><a href="module-Utils.html#~getCountryFlag">getCountryFlag</a></li><li data-type='method'><a href="module-Utils.html#~getTitle">getTitle</a></li><li data-type='method'><a href="module-Utils.html#~handleTokenExpiration">handleTokenExpiration</a></li><li data-type='method'><a href="module-Utils.html#~topFourPredictionCountriesWithFlags">topFourPredictionCountriesWithFlags</a></li></ul></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">components/HomePage.jsx</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { useEffect, useRef } from "react"
import Layout from "./Layout"
import SelectCountry from "./SelectCountry"
import homeDivider from "../assets/fondos-de-pantalla/homeDivider.png"
import logoCATitulo from '../assets/fondo-copa-america-2024/tituloCopaAmerica.png'
import logitoCA from '../assets/fondo-copa-america-2024/logitoCAChico.png'
import { SlArrowDown } from "react-icons/sl";
import { SlArrowUp } from "react-icons/sl";
import { useState } from "react";
import PositionsTable from "./PositionsTable";
import ReactSelect from "react-select"
import { useSelector, useDispatch } from 'react-redux'
import Swal from "sweetalert2"
import { createUserTopFourPredictionDB, createAdminTopFourPredictionDB, getTopFourRanking } from "../services/topFourPredictionService"
import { loginUserDB } from '../services/loginService'
import { jwtDecode } from 'jwt-decode'
import { getCookies, removeCookies } from '../services/cookiesService'
import { saveUserData, setTimeoutId, setScheduleLogout } from '../redux/userSlice'
import { Toast, topFourPredictionCountriesWithFlags } from "../utils/functions"
import { useNavigate } from "react-router-dom"
import { IoIosWarning } from "react-icons/io";
import { getOrderedPlayersDB } from "../services/userService"
import { handleTokenExpiration } from "../utils/functions"


/**
 * @module Componente_HomePage
 * @description Componente funcional representando el Home. Condicional dependiendo el rol del usuario logueado (jugador o admin)
 */
function HomePage() {
  const dispatch = useDispatch()
  const navigate = useNavigate()
  const globalUser = useSelector(state => state.user.user)
  const scheduleLogout = useSelector(state => state.user.scheduleLogout)
  const [showPlayers, setShowPlayers] = useState(false)
  const [topFour, setTopFour] = useState([null, null, null, null])
  const [user, setUser] = useState(null)
  const [topFourResults, setTopFourResults] = useState(null)
  const time = useRef(scheduleLogout)
  const [showTopFour, setShowTopFour] = useState(null)

  /**
   * Desloguea un usuario y lo redirije al login luego de mostrar una alerta cuando vence la sesi贸n
   * @function logoutAndRedirectToLogin
   */
  const logoutAndRedirectToLogin = () => {
    Swal.fire({
      title: "隆Tu sesi贸n ha expirado!",
      icon: 'warning',
      confirmButtonText: 'Volver',
      allowOutsideClick: false,
      allowEscapeKey: false,
      confirmButtonColor: "#3BD3BB",
      customClass: {
        popup: "rounded-[20px]",
        confirmButton: "bg-[#61DBC7] hover:bg-[#2DC8AE] text-[#21655A] px-8 py-2 rounded-[20px] ml-[15px]"
      }
    }).then(result => {
      if(result.isConfirmed) {
        navigate("/")
        dispatch(saveUserData({}))
        dispatch(setTimeoutId(null))
        dispatch(setScheduleLogout(false))
        removeCookies("jwt")
      }
    })
  };

  /**
   * Busca y actualiza el estado que guarda al usuario logueado
   * @async
   * @function getPlayersInOrder
   */
  const getPlayersInOrder = async () => {
    setUser((await getOrderedPlayersDB()).find(playerObj => playerObj.id === globalUser?.userId))
  }

  /**
   * Agrega el pa铆s seleccionado a la predicci贸n del top cuatro
   * @function addToTopFour
   * @param {string} place - La posici贸n (primera, segunda, tercera, o cuarta) donde agregar al pa铆s seleccionado
   * @param {object} selectedCountry - El pa铆s seleccionado a agregar
   */
  const addToTopFour = (place, selectedCountry) => {
    setTopFour(prevTopFour => {
        const newTopFour = [...prevTopFour];
        switch (place) {
            case "first":
                newTopFour[0] = selectedCountry.value;
                break;
            case "second":
                newTopFour[1] = selectedCountry.value;
                break;
            case "third":
                newTopFour[2] = selectedCountry.value;
                break;
            case "fourth":
                newTopFour[3] = selectedCountry.value;
                break;
            default:
                break;
        }
        return newTopFour;
    });
  };

  /**
   * Maneja la confirmaci贸n de la predicci贸n del top cuatro del jugador
   * Valida la selecci贸n y guarda la predicci贸n si se cumplen las condiciones
   * Muestra una alerta seg煤n la validaci贸n correspondiente
   * @function handleTopFourSubmit
   * @param {Event} e - El objeto 'evento' al hacer click.
   */
  const handleTopFourSubmit = async (e) => {
    e.preventDefault()
    const targetDate = new Date("2024-06-20T20:50:00")
    const currentDate = new Date()
    const copyTopFour = new Set(topFour)
    if(topFour.includes(null)) {
      Swal.fire({
        text: 'Aseg煤rate de elegir las 4 posiciones!',
        icon: 'warning',
        confirmButtonText: 'Hecho'
      })
      return
    }
    if(copyTopFour.size &lt; 4) {
      Swal.fire({
        text: 'No puedes seleccionar el mismo pa铆s m谩s de una vez',
        icon: 'warning',
        confirmButtonText: 'Hecho'
      })
      return
    }
    if(currentDate > targetDate) {
      Swal.fire({
        text: 'La predicci贸n ya fue bloqueada',
        icon: 'error',
        confirmButtonText: 'Hecho'
      })
      return
    }

    Swal.fire({
      title: "驴Est谩s seguro de guardar el ranking con estos valores?",
      html: `&lt;b>隆Esta acci贸n es irreversible!&lt;/b>`,
      icon: "warning",
      showCancelButton: true,
      confirmButtonColor: "#3BD3BB",
      cancelButtonColor: "#d33",
      cancelButtonText: "No",
      confirmButtonText: "Guardar",
      customClass: {
        popup: "rounded-[20px]",
        confirmButton: "bg-[#61DBC7] hover:bg-[#2DC8AE] text-[#21655A] px-8 py-2 rounded-[20px] ml-[15px]",
        cancelButton: "text-[#D80027] border-[#D80027] border hover:bg-red-500 hover:text-red-800 px-8 py-2 rounded-[20px]",
      },
      buttonsStyling: false,
      didRender: () => {
        const confirmButton = Swal.getConfirmButton();
        const cancelButton = Swal.getCancelButton();
        if (confirmButton &amp;&amp; cancelButton) {
          confirmButton.parentNode.insertBefore(cancelButton, confirmButton);
        }
      }
    }).then(async (result) => {
      if (result.isConfirmed) {
        try {
          await createUserTopFourPredictionDB({
            userId: globalUser?.userId,
            countryIdList: topFour,
            lockDateTime: "2024-06-20T20:50:00"
          })
          Swal.fire({
            text: 'Tu predicci贸n fue guardada con 茅xito!',
            icon: 'success',
            confirmButtonText: 'Hecho',
            customClass: {
              popup: "rounded-[20px]",
              confirmButton: "bg-[#61DBC7] hover:bg-[#2DC8AE] text-[#21655A] px-8 py-2 rounded-[20px] ml-[15px]",
            },
            buttonsStyling: false,
          })
          await loginUserDB({
            username: globalUser?.username,
            fullName: globalUser?.fullName,
            roleId: 2
          })
          const token = getCookies("jwt")
          let decodedToken = jwtDecode(token)
          dispatch(saveUserData(decodedToken))
        } catch (error) {
          Swal.fire({
            title: "Error!",
            text: "Hubo un problema al guardar el ranking.",
            icon: "error"
          });
        }
      }
    })
  }

  /**
   * Maneja la confirmaci贸n del top cuatro cargado por un administrador
   * Valida la selecci贸n y guarda la predicci贸n si se cumplen las condiciones
   * Muestra una alerta seg煤n la validaci贸n correspondiente
   * @function handleAdminTopFourSubmit
   * @param {Event} e - El objeto 'evento' al hacer click
   */
  const handleAdminTopFourSubmit = (e) => {
    e.preventDefault()
    const copyTopFour = new Set(topFour)
    if(topFour.includes(null)) {
      Swal.fire({
        text: 'Aseg煤rate de elegir las 4 posiciones!',
        icon: 'warning',
        confirmButtonText: 'Hecho'
      })
      return
    }
    if(copyTopFour.size &lt; 4) {
      Swal.fire({
        text: 'No puedes seleccionar el mismo pa铆s m谩s de una vez',
        icon: 'warning',
        confirmButtonText: 'Hecho'
      })
      return
    }
    Swal.fire({
      title: "驴Est谩s seguro de guardar el ranking con estos valores?",
      html: `&lt;b>隆Esta acci贸n es irreversible!&lt;/b>`,
      icon: "warning",
      showCancelButton: true,
      confirmButtonColor: "#3BD3BB",
      cancelButtonColor: "#d33",
      cancelButtonText: "No",
      confirmButtonText: "Guardar",
      customClass: {
        popup: "rounded-[20px]",
        confirmButton: "bg-[#61DBC7] hover:bg-[#2DC8AE] text-[#21655A] px-8 py-2 rounded-[20px] ml-[15px]",
        cancelButton: "text-[#D80027] border-[#D80027] border hover:bg-red-500 hover:text-red-800 px-8 py-2 rounded-[20px]",
      },
      buttonsStyling: false,
      didRender: () => {
        const confirmButton = Swal.getConfirmButton();
        const cancelButton = Swal.getCancelButton();
        if (confirmButton &amp;&amp; cancelButton) {
          confirmButton.parentNode.insertBefore(cancelButton, confirmButton);
        }
      }
    }).then(async (result) => {
      if (result.isConfirmed) {
        try {
          await createAdminTopFourPredictionDB({
            adminCountryIdList: topFour
          });
          Swal.fire({
            text: "El ranking ha sido guardado exitosamente.",
            icon: "success",
            confirmButtonText: "Cerrar"
          });
          await getTopFourResults()
        } catch (error) {
          Swal.fire({
            title: "Error!",
            text: "Hubo un problema al guardar el ranking.",
            icon: "error"
          });
        }
      }
    })
  }

  /**
   * Chequea si la fecha y hora actual se pas贸 de la fecha de expiraci贸n para realizar la predicci贸n del top cuatro y actualiza el estado para mostrar u ocultar la selecci贸n del top cuatro a predecir.
   * Setea la funci贸n a jecutarse una vez que se expira la sesi贸n del usuario si es que esta no fue ya seteada
   * Busca los jugadores por posici贸n y los resultado del top cuatro
   * Se ejecuta una vez al montarse el componente
   * @function useEffect
   */
  useEffect(() => {
    const targetDate = new Date("2024-06-20T20:50:00")
    const currentDate = new Date()
    if(currentDate > targetDate) {
      setShowTopFour(false)
    } else {
      setShowTopFour(true)
    }
    if(!time.current) {
      time.current = true
      const returnedTimeoutId = handleTokenExpiration(logoutAndRedirectToLogin)
      if(returnedTimeoutId) {
        dispatch(setTimeoutId(returnedTimeoutId))
        dispatch(setScheduleLogout(true))
      }
    }
    getPlayersInOrder()
    getTopFourResults()
  }, [])

  /**
   * Busca el top cuatro guardado por un admin y actualiza el estado que lo guarda
   * @async
   * @function getTopFourResults
   */
  const getTopFourResults = async () => {
    setTopFourResults((await getTopFourRanking())[0]?.adminCountryResponseList)
  }

  return (
    &lt;Layout page={globalUser.selectedRole === "PLAYER" &amp;&amp; "Prediccion de tus 4 mejores de America"}>
      {
        globalUser.selectedRole === "ADMIN" ? (
          &lt;div className="absolute w-4/5 h-[500px] flex flex-col items-center top-52 left-1/2 transform -translate-x-1/2 -translate-y-[45%]">
            &lt;img className="w-1/3 h-auto" src={logoCATitulo} alt="logo CA titulo" /> 
            {topFourResults ? 
              &lt;section className="flex justify-between mb-8">
                {
                  topFourPredictionCountriesWithFlags(topFourResults.map((country => country.name))).map((country, index) => {
                    return &lt;div className={`flex flex-col items-center gap-3 w-[160px]`}>
                      &lt;h1 className="text-lg">{index == 0 ? " Campe贸n" : index == 1 ? " Subcampe贸n" : index==2 ? " Tercer puesto" : "Cuarto puesto"}&lt;/h1>
                      &lt;div className="flex items-center gap-2">
                        &lt;img className="w-10 h-10 object-cover rounded-full" src={country.flag} alt="country image" />
                        &lt;span>{country.name}&lt;/span>
                      &lt;/div>
                    &lt;/div>
                  })
                }
              &lt;/section>
              :
              &lt;div className="flex w-4/5 flex-col items-center gap-6 mb-8">
                  &lt;p>Carga de resultados de las predicciones para los 4 mejores equipos de Am茅rica&lt;/p>
                  &lt;div className="flex justify-center gap-4">
                    &lt;div className="flex flex-col items-center gap-2">
                      &lt;label>Campeon&lt;/label>
                      &lt;SelectCountry place="first" addToTopFour={addToTopFour}/>
                    &lt;/div>
                    &lt;div className="flex flex-col items-center gap-2">
                      &lt;label>Sub-Campeon&lt;/label>
                      &lt;SelectCountry place="second" addToTopFour={addToTopFour}/>
                    &lt;/div>
                    &lt;div className="flex flex-col items-center gap-2">
                      &lt;label>Tercer Puesto&lt;/label>
                      &lt;SelectCountry place="third" addToTopFour={addToTopFour}/>
                    &lt;/div>
                    &lt;div className="flex flex-col items-center gap-2">
                      &lt;label>Cuarto Puesto&lt;/label>
                      &lt;SelectCountry place="fourth" addToTopFour={addToTopFour}/>
                    &lt;/div>
                  &lt;/div>
                  &lt;button className="self-center px-4 py-2 rounded-full bg-blue-800 text-[18px] active:bg-blue-950 border-[1px] border-solid border-white hover:bg-blue-900" onClick={handleAdminTopFourSubmit}>Guardar&lt;/button>
                &lt;/div>
            }        
            &lt;img className="my-6 w-full" src={homeDivider} alt="home divider" />
            &lt;div className="flex gap-2">
              &lt;span className="text-[20px]">Gestion de partidos:&lt;/span>
              &lt;div className="w-52">
                &lt;ReactSelect
                className="text-black bg-blue-700"
                options={[{value: "groups", label: "Fase de grupos"}, {value: "quarterfinals", label: "Cuartos de final"}, {value: "semifinals", label: "Semifinales"}, {value:"finals", label: "Instancia final"}]}
                placeholder="FIXTURE"
                isSearchable={false}
                onChange={(chosenStage) => navigate(`/${chosenStage.value}`)}
                menuPortalTarget={document.body}
                />
              &lt;/div>
            &lt;/div>
          &lt;/div>
        ) : (
        &lt;div className="flex flex-col items-center text-center">
          {
            globalUser?.topFourCountriesPrediction.length > 0 ? (
                &lt;section className="w-1/2 flex justify-between mb-8">
                  {
                    topFourPredictionCountriesWithFlags(globalUser.topFourCountriesPrediction).map((country, index) => (
                      &lt;div className={`flex flex-col items-center gap-3 w-[160px]`}>
                        &lt;h1 className="text-lg">{index == 0 ? " Campe贸n" : index == 1 ? " Subcampe贸n" : index==2 ? " Tercer puesto" : "Cuarto puesto"}&lt;/h1>
                        &lt;div className="flex items-center gap-2">
                          &lt;img className="w-10 h-10 object-cover rounded-full" src={country.flag} alt="country image" />
                          &lt;span>{country.name}&lt;/span>
                        &lt;/div>
                      &lt;/div>
                      ))
                  }
                &lt;/section>
            ) : showTopFour ? (
                  &lt;section className="flex flex-col items-center mb-8">
                    &lt;div className="flex flex-col gap-6">
                      &lt;div className="flex justify-center gap-4">
                        &lt;div className="flex flex-col items-center gap-2">
                          &lt;label>Campeon&lt;/label>
                          &lt;SelectCountry place="first" addToTopFour={addToTopFour}/>
                        &lt;/div>
                        &lt;div className="flex flex-col items-center gap-2">
                          &lt;label>Sub-Campeon&lt;/label>
                          &lt;SelectCountry place="second" addToTopFour={addToTopFour}/>
                        &lt;/div>
                        &lt;div className="flex flex-col items-center gap-2">
                          &lt;label>Tercer Puesto&lt;/label>
                          &lt;SelectCountry place="third" addToTopFour={addToTopFour}/>
                        &lt;/div>
                        &lt;div className="flex flex-col items-center gap-2">
                          &lt;label>Cuarto Puesto&lt;/label>
                          &lt;SelectCountry place="fourth" addToTopFour={addToTopFour}/>
                        &lt;/div>
                      &lt;/div>
                      &lt;button className="self-center px-4 py-2 rounded-full bg-blue-800 text-[18px] active:bg-blue-950 border-[1px] border-solid border-white hover:bg-blue-900" onClick={handleTopFourSubmit}>Guardar&lt;/button>
                      &lt;p className="flex text-[24px] items-center gap-[8px] text-yellow-500">&lt;IoIosWarning />&lt;p className="text-white font-bold italic text-[18px] tracking-[1px]">隆No te olvides guardar tus predicciones! Una vez que comience el torneo no podras cambiarlas&lt;/p>&lt;/p>
                    &lt;/div>
                  &lt;/section>
                ) : (
                  &lt;div className="flex">
                    &lt;span>&lt;/span>
                    &lt;p className="italic text-[18px] tracking-[1px]">隆Haz tu pron贸stico y deja tu huella en el ranking!&lt;/p>
                    &lt;span>&lt;/span>
                  &lt;/div>
                )
          }
          &lt;img className="my-4 w-3/4" src={homeDivider} alt="home divider" />
          &lt;section className="mb-8">
            {(user &amp;&amp; user.position) &amp;&amp; &lt;div className="flex justify-center items-center gap-4 border-2 border-[#ffffff33] shadow-lg shadow-black p-4 rounded-2xl">
              &lt;img className='w-24 h-auto' src={globalUser?.loginProcess?.selectAvatar} alt="user avatar" /> {/* avatar del usuario */}
              &lt;div className="flex w-24 flex-col gap-2">
                &lt;span className="text-[14px]">TU POSICION&lt;/span>
                &lt;span className="font-bold text-[32px] px-4 py-1">{user.position === 1 ? "": user.position === 2 ? "" : user.position === 3 ? "" : user.position}&lt;/span>
              &lt;/div>
              &lt;div className="flex w-24 flex-col gap-2">
                &lt;span className="text-[14px]">TU PUNTAJE&lt;/span>
                &lt;span className="font-bold text-[32px] px-4 py-1">{user.totalPoints}&lt;/span> 
              &lt;/div>
            &lt;/div>}
          &lt;/section>
          &lt;section className="flex w-1/2 justify-start gap-[8px]">
            &lt;img src={logitoCA} alt="logo chico CA" />
            &lt;span className="flex items-center gap-[8px] cursor-pointer" onClick={() => setShowPlayers(prevState => !prevState)}> POSICIONES {showPlayers ? &lt;SlArrowUp className="inline-block" /> : &lt;SlArrowDown className="inline-block"/>}&lt;/span>
          &lt;/section>
          { showPlayers &amp;&amp; &lt;PositionsTable />}
        &lt;/div>
        )
      }
    &lt;/Layout>
  )
}

export default HomePage</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.3</a> using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>
